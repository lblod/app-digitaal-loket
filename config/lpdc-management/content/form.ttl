@prefix form: <http://lblod.data.gift/vocabularies/forms/> .
@prefix sh: <http://www.w3.org/ns/shacl#>.
@prefix mu: <http://mu.semte.ch/vocabularies/core/> .
@prefix displayTypes: <http://lblod.data.gift/display-types/> .
@prefix ext: <http://mu.semte.ch/vocabularies/ext/> .

@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix skos:	<http://www.w3.org/2004/02/skos/core#> .
@prefix mu:	<http://mu.semte.ch/vocabularies/core/> .
@prefix cpsv:	<http://purl.org/vocab/cpsv#> .
@prefix dct:	<http://purl.org/dc/terms/> .
@prefix lpdcExt:  <https://productencatalogus.data.vlaanderen.be/ns/ipdc-lpdc#> .
@prefix xkos:	<http://rdf-vocabulary.ddialliance.org/xkos#> .
@prefix m8g:	<http://data.europa.eu/m8g/> .
@prefix dcat:	<http://www.w3.org/ns/dcat#> .
@prefix lang:	<http://publications.europa.eu/resource/authority/language/> .
@prefix belgif:	<http://vocab.belgif.be/ns/publicservice#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/>.
@prefix schema: <http://schema.org/>.
@prefix ps: <http://vocab.belgif.be/ns/publicservice#> .
@prefix extEng: <http://mu.semte.ch/vocabularies/ext/form-fields/english/> .
@prefix locn: <http://www.w3.org/ns/locn#> .
@prefix adres: <https://data.vlaanderen.be/ns/adres#> .

##########################################################
# form
##########################################################
ext:form a form:Form, form:TopLevelForm ;
    form:includes ext:titleF;
    form:includes extEng:titleF;
    form:includes ext:descriptionF;
    form:includes extEng:descriptionF;
    form:includes ext:additionalDescriptionF;
    form:includes extEng:additionalDescriptionF;
    form:includes ext:exceptionF;
    form:includes extEng:exceptionF;
    form:includes ext:requirementsL;
    form:includes ext:rulesL;
    form:includes ext:costsL;
    form:includes ext:finAdvL;
    form:includes ext:regulationitleF;
    form:includes extEng:regulationitleF;
    form:includes ext:contactpointsL;
    form:includes ext:websitesL.

##########################################################
#  property-group: title
##########################################################
ext:titlePg a form:PropertyGroup;
    sh:name "Titel" ;
    form:help "Hier kan u de titel aanbrengen/wijzigen.";
    sh:order 1 .

  ##########################################################
  #  field: title
  ##########################################################
  ext:titleF a form:Field ;
      sh:order 1 ;
      sh:name "Titel";
      form:language "nl";
      sh:path dct:title ;
      form:validations [
        a form:RequiredConstraint ;
        form:language "nl";
        form:grouping form:Bag ;
        sh:resultMessage "Dit veld is verplicht." ;
        sh:path dct:title
      ];
      form:displayType displayTypes:defaultInput;
      sh:group ext:titlePg .

  ##########################################################
  #  field (en.): title
  ##########################################################
  extEng:titleF a form:Field ;
      sh:order 2 ;
      sh:name "Engelse vertaling van de titel";
      form:language "en";
      sh:path dct:title ;
      form:displayType displayTypes:defaultInput ;
      sh:group ext:titlePg .

##########################################################
#  property-group: Beschrijving
##########################################################
ext:descriptionPg a form:PropertyGroup;
    sh:name "Beschrijving" ;
    form:help "Hier kan u de beschrijving aanbrengen/wijzigen.";
    sh:order 2 .

  ##########################################################
  #  field: description
  ##########################################################
  ext:descriptionF a form:Field ;
      sh:order 1 ;
      sh:name "Beschrijving";
      form:language "nl";
      form:validations [
        a form:RequiredConstraint ;
        form:language "nl";
        form:grouping form:Bag ;
        sh:resultMessage "Dit veld is verplicht." ;
        sh:path dct:description
      ];
      sh:path dct:description ;
      form:displayType displayTypes:richText ;
      sh:group ext:descriptionPg .

  ##########################################################
  #  field (en.): description
  ##########################################################
  extEng:descriptionF a form:Field ;
      sh:order 2 ;
      form:language "en";
      sh:name "Engelse vertaling van de beschrijving";
      sh:path dct:description ;
      form:displayType displayTypes:richText ;
      sh:group ext:descriptionPg .
  
##########################################################
#  property-group: Aanvullende Beschrijving
##########################################################
ext:additionalDescriptionPg a form:PropertyGroup;
    sh:name "Aanvullende Beschrijving" ;
    form:help "Hier kan u de korte beschrijving aanbrengen/wijzigen.";
    sh:order 3 .

  ##########################################################
  #  field: additional description
  ##########################################################
  ext:additionalDescriptionF a form:Field ;
      sh:order 1 ;
      sh:name "Aanvullende Beschrijving";
      form:language "nl";
      sh:path lpdcExt:additionalDescription ;
      form:displayType displayTypes:richText ;
      sh:group ext:additionalDescriptionPg .

  ##########################################################
  #  field (en.): additional description
  ##########################################################
  extEng:additionalDescriptionF a form:Field ;
      sh:order 2 ;
      form:language "en";
      sh:name "Engelse vertaling van de beschrijving";
      sh:path lpdcExt:additionalDescription ;
      form:displayType displayTypes:richText ;
      sh:group ext:additionalDescriptionPg .  

##########################################################
#  property-group: exception
##########################################################
ext:exceptionPg a form:PropertyGroup;
    sh:name "Uitzonderingen" ;
    form:help "Hier kan u de mogelijke uitzonderingen aanbrengen/wijzigen.";
    sh:order 4 .

  ##########################################################
  #  field: exception
  ##########################################################
  ext:exceptionF a form:Field ;
      sh:order 1 ;
      sh:name "Uitzonderingen" ;
      form:language "nl";
      sh:path lpdcExt:exception ;
      form:displayType displayTypes:richText ;
      sh:group ext:exceptionPg .

  ##########################################################
  #  field (en.): exception
  ##########################################################
  extEng:exceptionF a form:Field ;
      sh:order 2 ;
      sh:name "Engelse vertaling van de uitzonderingen";
      form:language "en";
      sh:path lpdcExt:exception ;
      form:displayType displayTypes:richText ;
      sh:group ext:exceptionPg .

##########################################################
#  property-group: Voorwaarden
##########################################################
ext:requirementsPg a form:PropertyGroup;
    sh:name "Voorwaarden" ;
    form:help "Hier kan u de voorwaarden aanbrengen/wijzigen.";
    sh:order 5 .

  ##########################################################
  #  listing-scope: Voorwaarden
  ##########################################################
  ext:requirementsS a form:Scope;
    sh:path belgif:hasRequirement.

  ##########################################################
  #  Listing: Voorwaarden
  ##########################################################
  ext:requirementsL a form:Listing;
    form:each ext:requirementsSf;
    form:scope ext:requirementsS;
    form:createGenerator ext:requirementsG;
    sh:group ext:requirementsPg;
    form:addLabel "Voeg voorwaarde toe";
    form:canAdd true;
    form:canRemove true;
    sh:maxCount 1;
    sh:order 1 .

 ##########################################################
  #  Generator: Voorwaarden
  ##########################################################
  ext:requirementsG a form:Generator;
    form:prototype [
      form:shape [
        a m8g:Requirement ;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Voorwaarden-sub
  ##########################################################
  ext:requirementsPg-sub a form:PropertyGroup;
      sh:order 1 .

  ##########################################################
  #  Subform: Voorwaarden
  ##########################################################
  ext:requirementsSf a form:SubForm;
     form:removeLabel "Verwijder voorwaarde";
     form:includes ext:requirementTitleF;
     form:includes extEng:requirementTitleF;
     form:includes ext:requirementDescriptionF;
     form:includes extEng:requirementDescriptionF;
     form:includes ext:evidencesL.

    ##########################################################
    # Field: Requirement title
    ##########################################################
    ext:requirementTitleF a form:Field ;
        sh:name "Titel voorwaarde" ;
        sh:order 1 ;
        form:language "nl";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:title
        ];
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:requirementsPg-sub .

    ##########################################################
    # Field (En.): Requirement title
    ##########################################################
    extEng:requirementTitleF a form:Field ;
        sh:name "Engelse vertaling van de titel" ;
        sh:order 2 ;
        form:language "en";
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:requirementsPg-sub .

    ##########################################################
    # Field: Requirement description
    ##########################################################
    ext:requirementDescriptionF a form:Field ;
        sh:name "Beschrijving voorwaarde" ;
        sh:order 3 ;
        form:language "nl";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:description
        ];
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:requirementsPg-sub .

    ##########################################################
    # Field (En.): Requirement description
    ##########################################################
    extEng:requirementDescriptionF a form:Field ;
        sh:name "Engelse vertaling van de beschrijving" ;
        sh:order 4 ;
        form:language "en";
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:requirementsPg-sub .

        ##########################################################
        #  property-group: evidence
        ##########################################################
        ext:evidencesPg a form:PropertyGroup;
            sh:name "Bewijsstukken" ;
            form:help "Hier kan u de gevraagde bewijsstukken aanbrengen/wijzigen.";
            sh:order 1 .

        ##########################################################
        #  listing-scope: Evidence
        ##########################################################
        ext:evidencesS a form:Scope;
          sh:path m8g:hasSupportingEvidence.

        ##########################################################
        #  Listing: Evidence
        ##########################################################
        ext:evidencesL a form:Listing;
          form:each ext:evidencesSf;
          form:scope ext:evidencesS;
          form:createGenerator ext:evidencesG;
          sh:group ext:evidencesPg;
          form:addLabel "Voeg bewijsstuk toe";
          form:canAdd true;
          form:canRemove true;
          sh:maxCount 1;
          sh:order 1 .

       ##########################################################
        #  Generator: Evidence
        ##########################################################
        ext:evidencesG a form:Generator;
          form:prototype [
            form:shape [
              a m8g:Evidence ;
            ];
          ];
          form:dataGenerator form:addMuUuid.

        ##########################################################
        #  property-group: Evidence-sub
        ##########################################################
        ext:evidencesPg-sub a form:PropertyGroup;
            sh:order 1 .

        ##########################################################
        #  Subform: Evidence
        ##########################################################
        ext:evidencesSf a form:SubForm;
           form:removeLabel "Verwijder bewijsstuk";
           form:includes ext:evidenceTitleF;
           form:includes extEng:evidenceTitleF;
           form:includes ext:evidenceDescriptionF;
           form:includes extEng:evidenceDescriptionF.

          ##########################################################
          # Field: Evidence title
          ##########################################################
          ext:evidenceTitleF a form:Field ;
              sh:name "Titel bewijsstuk" ;
              sh:order 1 ;
              form:language "nl";
              form:validations [
                a form:RequiredConstraint ;
                form:language "nl";
                form:grouping form:Bag ;
                sh:resultMessage "Dit veld is verplicht." ;
                sh:path dct:title
              ];
              sh:path dct:title ;
              form:displayType displayTypes:defaultInput ;
              sh:group ext:evidencesPg-sub .

          ##########################################################
          # Field (En.): Evidence title
          ##########################################################
          extEng:evidenceTitleF a form:Field ;
              sh:name "Engelse vertaling van de titel" ;
              sh:order 2 ;
              form:language "en";
              sh:path dct:title ;
              form:displayType displayTypes:defaultInput ;
              sh:group ext:evidencesPg-sub .

          ##########################################################
          # Field: Evidence description
          ##########################################################
          ext:evidenceDescriptionF a form:Field ;
              sh:name "Beschrijving bewijsstuk" ;
              sh:order 3 ;
              form:language "nl";
              form:validations [
                a form:RequiredConstraint ;
                form:language "nl";
                form:grouping form:Bag ;
                sh:resultMessage "Dit veld is verplicht." ;
                sh:path dct:description
              ];
              sh:path dct:description ;
              form:displayType displayTypes:richText ;
              sh:group ext:evidencesPg-sub .

          ##########################################################
          # Field (En.): Evidence description
          ##########################################################
          extEng:evidenceDescriptionF a form:Field ;
              sh:name "Engelse vertaling van de beschrijving" ;
              sh:order 4 ;
              form:language "en";
              sh:path dct:description ;
              form:displayType displayTypes:richText ;
              sh:group ext:evidencesPg-sub .

##########################################################
#  property-group: Procedure
##########################################################
ext:rulesPg a form:PropertyGroup;
    sh:name "Procedure" ;
    form:help "Hier kan u de procedure aanbrengen/wijzigen.";
    sh:order 6 .

  ##########################################################
  #  listing-scope: Proceduren
  ##########################################################
  ext:rulesS a form:Scope;
    sh:path cpsv:follows.

  ##########################################################
  #  Listing: Proceduren
  ##########################################################
  ext:rulesL a form:Listing;
    form:each ext:rulesSf;
    form:scope ext:rulesS;
    form:createGenerator ext:rulesG;
    sh:group ext:rulesPg;
    form:addLabel "Voeg procedure toe";
    form:canAdd true;
    form:canRemove true;
    sh:maxCount 1;
    sh:order 1 .

 ##########################################################
  #  Generator: Proceduren
  ##########################################################
  ext:rulesG a form:Generator;
    form:prototype [
      form:shape [
        a cpsv:Rule;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Proceduren-sub
  ##########################################################
  ext:rulesPg-sub a form:PropertyGroup;
      sh:order 1 .

  ##########################################################
  #  Subform: Proceduren
  ##########################################################
  ext:rulesSf a form:SubForm;
     form:removeLabel "Verwijder procedure";
     form:includes ext:ruleTitleF;
     form:includes extEng:ruleTitleF;
     form:includes ext:ruleDescriptionF;
     form:includes extEng:ruleDescriptionF;
     form:includes ext:procedureWebsitesL.

    ##########################################################
    # Field: Procedure title
    ##########################################################
    ext:ruleTitleF a form:Field ;
        sh:name "Titel procedure" ;
        sh:order 1 ;
        form:language "nl";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:title
        ];
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:rulesPg-sub .

    ##########################################################
    # Field (En.): Procedure title
    ##########################################################
    extEng:ruleTitleF a form:Field ;
        sh:name "Engelse vertaling van de titel" ;
        sh:order 2 ;
        form:language "en";
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:rulesPg-sub .

    ##########################################################
    # Field: Procedure description
    ##########################################################
    ext:ruleDescriptionF a form:Field ;
        sh:name "Beschrijving procedure" ;
        sh:order 3 ;
        form:language "nl";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:description
        ];
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:rulesPg-sub .

    ##########################################################
    # Field (En.): Procedure description
    ##########################################################
    extEng:ruleDescriptionF a form:Field ;
        sh:name "Engelse vertaling van de beschrijving" ;
        sh:order 4 ;
        form:language "en";
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:rulesPg-sub .

        ##########################################################
        #  property-group: procedureWebsite
        ##########################################################
        ext:procedureWebsitesPg a form:PropertyGroup;
            sh:name "Website procedure" ;
            form:help "Hier kan u de relevante websites om een of meerdere procedurestappen online uit te voeren, aanbrengen/wijzigen.";
            sh:order 1 .

        ##########################################################
        #  listing-scope: ProcedureWebsite
        ##########################################################
        ext:procedureWebsitesS a form:Scope;
          sh:path lpdcExt:hasWebsite.

        ##########################################################
        #  Listing: ProcedureWebsite
        ##########################################################
        ext:procedureWebsitesL a form:Listing;
          form:each ext:procedureWebsitesSf;
          form:scope ext:procedureWebsitesS;
          form:createGenerator ext:procedureWebsitesG;
          sh:group ext:procedureWebsitesPg;
          form:addLabel "Voeg website toe";
          form:canAdd true;
          form:canRemove true;
          sh:order 1 .

       ##########################################################
        #  Generator: ProcedureWebsite
        ##########################################################
        ext:procedureWebsitesG a form:Generator;
          form:prototype [
            form:shape [
              a schema:WebSite ;
            ];
          ];
          form:dataGenerator form:addMuUuid.

        ##########################################################
        #  property-group: ProcedureWebsite-sub
        ##########################################################
        ext:procedureWebsitesPg-sub a form:PropertyGroup;
            sh:order 1 .

        ##########################################################
        #  Subform: ProcedureWebsite
        ##########################################################
        ext:procedureWebsitesSf a form:SubForm;
           form:removeLabel "Verwijder website";
           form:includes ext:procedureWebsiteTitleF;
           form:includes extEng:procedureWebsiteTitleF;
           form:includes ext:procedureWebsiteDescriptionF;
           form:includes extEng:procedureWebsiteDescriptionF;
           form:includes ext:procedureWebsiteUrlF.

          ##########################################################
          # Field: ProcedureWebsite title
          ##########################################################
          ext:procedureWebsiteTitleF a form:Field ;
              sh:name "Titel website" ;
              sh:order 1 ;
              form:language "nl";
              form:validations [
                a form:RequiredConstraint ;
                form:language "nl";
                form:grouping form:Bag ;
                sh:resultMessage "Dit veld is verplicht." ;
                sh:path dct:title
              ];
              sh:path dct:title ;
              form:displayType displayTypes:defaultInput ;
              sh:group ext:procedureWebsitesPg-sub .

          ##########################################################
          # Field (En.): ProcedureWebsite title
          ##########################################################
          extEng:procedureWebsiteTitleF a form:Field ;
              sh:name "Engelse vertaling van de titel" ;
              sh:order 2 ;
              form:language "en";
              sh:path dct:title ;
              form:displayType displayTypes:defaultInput ;
              sh:group ext:procedureWebsitesPg-sub .

          ##########################################################
          # Field: ProcedureWebsite description
          ##########################################################
          ext:procedureWebsiteDescriptionF a form:Field ;
              sh:name "Beschrijving website" ;
              sh:order 2 ;
              form:language "nl";
              sh:path dct:description ;
              form:displayType displayTypes:richText ;
              sh:group ext:procedureWebsitesPg-sub .

          ##########################################################
          # Field (En.): ProcedureWebsite description
          ##########################################################
          extEng:procedureWebsiteDescriptionF a form:Field ;
              sh:name "Engelse vertaling van de beschrijving" ;
              sh:order 3 ;
              form:language "en";
              sh:path dct:description ;
              form:displayType displayTypes:richText ;
              sh:group ext:procedureWebsitesPg-sub .

          ##########################################################
          # Field: ProcedureWebsite url
          ##########################################################
          ext:procedureWebsiteUrlF a form:Field ;
              sh:name "Website URL" ;
              sh:order 3 ;
              form:validations
              [ a form:UriConstraint ;
                form:grouping form:MatchEvery ;
                sh:resultMessage "Gelieve een geldige URL op te geven. Zorg dat vooraan in de link altijd http://, https://, ftp:// of sftp:// staat."; # TODO: later custom validator
                sh:path schema:url
              ],
              [
                a form:RequiredConstraint ;
                form:grouping form:Bag ;
                sh:resultMessage "Dit veld is verplicht." ;
                sh:path schema:url
              ];
              sh:path schema:url ;
              form:displayType displayTypes:defaultInput ;
              sh:group ext:procedureWebsitesPg-sub .

##########################################################
#  property-group: Kost
##########################################################
ext:costPg a form:PropertyGroup;
    sh:name "Kosten" ;
    form:help "Hier kan u de bijbehorende kosten aanbrengen/wijzigen.";
    sh:order 6 .

  ##########################################################
  #  listing-scope: Kostn
  ##########################################################
  ext:costsS a form:Scope;
    sh:path m8g:hasCost.

  ##########################################################
  #  Listing: Kost
  ##########################################################
  ext:costsL a form:Listing;
    form:each ext:costsSf;
    form:scope ext:costsS;
    form:createGenerator ext:costsG;
    sh:group ext:costPg;
    form:addLabel "Voeg kost toe";
    form:canAdd true;
    form:canRemove true;
    sh:order 1 .

 ##########################################################
  #  Generator: Kost
  ##########################################################
  ext:costsG a form:Generator;
    form:prototype [
      form:shape [
        a m8g:Cost;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Kost-sub
  ##########################################################
  ext:costsPg-sub a form:PropertyGroup;
      sh:order 1 .

  ##########################################################
  #  Subform: Kost
  ##########################################################
  ext:costsSf a form:SubForm;
     form:removeLabel "Verwijder kost";
     form:includes ext:costTitleF;
     form:includes extEng:costTitleF;
     form:includes ext:costDescriptionF;
     form:includes extEng:costDescriptionF.

    ##########################################################
    # Field: Kost title
    ##########################################################
    ext:costTitleF a form:Field ;
        sh:name "Titel kost" ;
        form:language "nl";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:title
        ];
        sh:order 1 ;
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:costsPg-sub .

    ##########################################################
    # Field (En.): Kost title
    ##########################################################
    extEng:costTitleF a form:Field ;
        sh:name "Engelse vertaling van de titel" ;
        sh:order 2 ;
        form:language "en";
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:costsPg-sub .

    ##########################################################
    # Field: Kost description
    ##########################################################
    ext:costDescriptionF a form:Field ;
        sh:name "Beschrijving kost" ;
        form:language "nl";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:description
        ];
        sh:order 3 ;
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:costsPg-sub .

    ##########################################################
    # Field (En.): Kost description
    ##########################################################
    extEng:costDescriptionF a form:Field ;
        sh:name "Engelse vertaling van de beschrijving" ;
        sh:order 4 ;
        form:language "en";
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:costsPg-sub .

##########################################################
#  property-group: Financieel Voordeel
##########################################################
ext:finAdvPg a form:PropertyGroup;
    sh:name "Financiële Voordelen" ;
    form:help "Hier kan u de bijbehorende financiële voordelen aanbrengen/wijzigen.";
    sh:order 7 .

  ##########################################################
  #  listing-scope: Financieel Voordeel
  ##########################################################
  ext:finAdvS a form:Scope;
    sh:path cpsv:produces.

  ##########################################################
  #  Listing: Financieel Voordeel
  ##########################################################
  ext:finAdvL a form:Listing;
    form:each ext:finAdvSf;
    form:scope ext:finAdvS;
    form:createGenerator ext:finAdvG;
    sh:group ext:finAdvPg;
    form:addLabel "Voeg financieel voordeel toe";
    form:canAdd true;
    form:canRemove true;
    sh:order 1 .

 ##########################################################
  #  Generator: Financieel Voordeel
  ##########################################################
  ext:finAdvG a form:Generator;
    form:prototype [
      form:shape [
        a lpdcExt:FinancialAdvantage;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Financieel Voordeel-sub
  ##########################################################
  ext:finAdvPg-sub a form:PropertyGroup;
      sh:order 1 .

  ##########################################################
  #  Subform: Financieel Voordeel
  ##########################################################
  ext:finAdvSf a form:SubForm;
     form:removeLabel "Verwijder financieel voordeel";
     form:includes ext:finAdvTitleF;
     form:includes extEng:finAdvTitleF;
     form:includes ext:finAdvDescriptionF;
     form:includes extEng:finAdvDescriptionF.

    ##########################################################
    # Field: Financieel Voordeel title
    ##########################################################
    ext:finAdvTitleF a form:Field ;
        sh:name "Titel financieel voordeel" ;
        form:language "nl";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:title
        ];
        sh:order 1 ;
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:finAdvPg-sub .

    ##########################################################
    # Field (En.): Financieel Voordeel title
    ##########################################################
    extEng:finAdvTitleF a form:Field ;
        sh:name "Engelse vertaling van de titel" ;
        sh:order 2 ;
        form:language "en";
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:finAdvPg-sub .

    ##########################################################
    # Field: Financieel Voordeel description
    ##########################################################
    ext:finAdvDescriptionF a form:Field ;
        sh:name "Beschrijving financieel voordeel" ;
        form:language "nl";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:description
        ];
        sh:order 3 ;
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:finAdvPg-sub .

    ##########################################################
    # Field (En.): Financieel Voordeel description
    ##########################################################
    extEng:finAdvDescriptionF a form:Field ;
        sh:name "Engelse vertaling van de beschrijving" ;
        sh:order 4 ;
        form:language "en";
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:finAdvPg-sub .


##########################################################
#  property-group: Regelgeving
##########################################################
ext:regulationsPg a form:PropertyGroup;
    sh:name "Regelgeving" ;
    form:help "Hier kan u de verwijzing naar relevante regelgeving aanbrengen/wijzigen.";
    sh:order 8 .

  ##########################################################
  #  field: Regelgeving
  ##########################################################
  ext:regulationitleF a form:Field ;
      sh:order 1 ;
      form:language "nl";
      sh:name "Regelgeving";
      sh:path lpdcExt:regulation;
      form:displayType displayTypes:richText ;
      sh:group ext:regulationsPg .

  ##########################################################
  #  field (en.): Regelgeving
  ##########################################################
  extEng:regulationitleF a form:Field ;
      sh:order 2 ;
      form:language "en";
      sh:name "Engelse vertaling van de regelgeving";
      sh:path lpdcExt:regulation;
      form:displayType displayTypes:richText ;
      sh:group ext:regulationsPg .

##########################################################
#  property-group: Contactpunten
##########################################################
ext:contactpointsPg a form:PropertyGroup;
    sh:name "Contactpunten" ;
    form:help "Hier kan u contactpunten aanbrengen/wijzigen.";
    sh:order 9 .

  ##########################################################
  #  listing-scope: Contactpunten
  ##########################################################
  ext:contactpointsS a form:Scope;
    sh:path m8g:hasContactPoint.

  ##########################################################
  #  Listing: Contactpunten
  ##########################################################
  ext:contactpointsL a form:Listing;
    form:each ext:contactpointsSf;
    form:scope ext:contactpointsS;
    form:createGenerator ext:contactpointsG;
    sh:group ext:contactpointsPg;
    form:addLabel "Voeg contactpunt toe";
    form:canAdd true;
    form:canRemove true;
    sh:order 1 .

 ##########################################################
  #  Generator: Contactpunten
  ##########################################################
  ext:contactpointsG a form:Generator;
    form:prototype [
      form:shape [
        a schema:ContactPoint ;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Contactpunten-sub
  ##########################################################
  ext:contactpointsPg-sub a form:PropertyGroup;
      sh:name "Contactpunt" ;
      sh:order 1 .

  ##########################################################
  #  Subform: Contactpunten
  ##########################################################
  ext:contactpointsSf a form:SubForm;
     form:removeLabel "Verwijder contactpunt";
     form:includes ext:contactPEmailF;
     form:includes ext:contactPTelephoneF;
     form:includes ext:contactPageF;
     form:includes ext:contactPOpeningF;
     form:includes ext:contactPointAddressL.

    ##########################################################
    # Field: ContactPunt email
    ##########################################################
    ext:contactPEmailF a form:Field ;
        sh:name "Email" ;
        sh:order 1 ;
        form:validations [
          a form:ValidEmail ;
          form:grouping form:MatchEvery ;
          sh:path schema:email ;
          sh:resultMessage "Geef een geldig e-mailadres op."@nl
        ] ;
        sh:path schema:email ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:contactpointsPg-sub .

    ##########################################################
    # Field: ContactPunt phone
    ##########################################################
    ext:contactPTelephoneF a form:Field ;
        sh:name "Telefoon" ;
        sh:order 2 ;
        form:validations [
          a form:ValidPhoneNumber ;
          form:grouping form:MatchEvery ;
          form:defaultCountry "BE" ;
          sh:path schema:telephone ;
          sh:resultMessage "Geef een geldig telefoonnummer in."@nl
        ] ;
        sh:path schema:telephone ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:contactpointsPg-sub .

    ##########################################################
    # Field: ContactPunt website
    ##########################################################
    ext:contactPageF a form:Field ;
        sh:name "Website URL" ;
        sh:order 3 ;
        form:validations [
          a form:UriConstraint ;
          form:grouping form:MatchEvery ;
          sh:resultMessage "Gelieve een geldige URL op te geven. Zorg dat vooraan in de link altijd http://, https://, ftp:// of sftp:// staat."; # TODO: later custom validator
          sh:path schema:url
        ];
        sh:path schema:url ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:contactpointsPg-sub .

    ##########################################################
    # Field: ContactPunt openingsuren
    ##########################################################
    ext:contactPOpeningF a form:Field ;
        sh:name "openingsuren" ;
        sh:order 4 ;
        sh:path schema:openingHours ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:contactpointsPg-sub .

        ##########################################################
        #  property-group: contactPointAddress
        ##########################################################
        ext:contactPointAddressPg a form:PropertyGroup;
            sh:name "Adres" ;
            sh:order 1 .

        ##########################################################
        #  listing-scope: contactPointAddress
        ##########################################################
        ext:contactPointAddressS a form:Scope;
          sh:path lpdcExt:address.

        ##########################################################
        #  Listing: contactPointAddress
        ##########################################################
        ext:contactPointAddressL a form:Listing;
          form:each ext:contactPointAddressSf;
          form:scope ext:contactPointAddressS;
          form:createGenerator ext:contactPointAddressG;
          sh:group ext:contactPointAddressPg;
          form:addLabel "Voeg adres toe";
          form:canAdd true;
          form:canRemove true;
          sh:maxCount 1;
          sh:order 1 .

        ##########################################################
        #  Generator: contactPointAddress
        ##########################################################
        ext:contactPointAddressG a form:Generator;
          form:prototype [
            form:shape [
              a locn:Address ;
            ];
          ];
          form:dataGenerator form:addMuUuid.

        ##########################################################
        #  property-group: contactPointAddress-sub
        ##########################################################
        ext:contactPointAddressPg-sub a form:PropertyGroup;
            sh:order 1 .

        ##########################################################
        #  Subform: contactPointAddress
        ##########################################################
        ext:contactPointAddressSf a form:SubForm;
          form:removeLabel "Verwijder adres";
          form:includes ext:contactPointAddressStreetF;
          form:includes ext:contactPointAddressHouseNumberF;
          form:includes ext:contactPointAddressMailboxF;
          form:includes ext:contactPointAddressPostcodeF;
          form:includes ext:contactPointAddressMunicipalityF;
          form:includes ext:contactPointAddressCountryF.

          ##########################################################
          # Field: Street
          ##########################################################
          ext:contactPointAddressStreetF a form:Field ;
            sh:name "Straat" ;
            sh:order 1 ;
            form:language "nl";
            sh:path adres:Straatnaam ;
            form:displayType displayTypes:defaultInput ;
            sh:group ext:contactPointAddressPg-sub .

          ##########################################################
          # Field: Housenumber
          ##########################################################
          ext:contactPointAddressHouseNumberF a form:Field ;
            sh:name "Huisnummer" ;
            sh:order 2 ;
            sh:path <https://data.vlaanderen.be/ns/adres#Adresvoorstelling.huisnummer> ;
            form:displayType displayTypes:defaultInput ;
            sh:group ext:contactPointAddressPg-sub .

          ##########################################################
          # Field: Mailbox
          ##########################################################
          ext:contactPointAddressMailboxF a form:Field ;
            sh:name "Busnummer" ;
            sh:order 3 ;
            sh:path <https://data.vlaanderen.be/ns/adres#Adresvoorstelling.busnummer> ;
            form:displayType displayTypes:defaultInput ;
            sh:group ext:contactPointAddressPg-sub .

          ##########################################################
          # Field: postcode
          ##########################################################
          ext:contactPointAddressPostcodeF a form:Field ;
            sh:name "Postcode" ;
            sh:order 4 ;
            sh:path adres:postcode ;
            form:displayType displayTypes:defaultInput ;
            sh:group ext:contactPointAddressPg-sub .

          ##########################################################
          # Field: municipality
          ##########################################################
          ext:contactPointAddressMunicipalityF a form:Field ;
            sh:name "Gemeente" ;
            sh:order 5 ;
            form:language "nl";
            sh:path adres:gemeentenaam ;
            form:displayType displayTypes:defaultInput ;
            sh:group ext:contactPointAddressPg-sub .

          ##########################################################
          # Field: Country
          ##########################################################
          ext:contactPointAddressCountryF a form:Field ;
            sh:name "Land" ;
            sh:order 6 ;
            form:language "nl";
            sh:path adres:land ;
            form:displayType displayTypes:defaultInput ;
            sh:group ext:contactPointAddressPg-sub .

##########################################################
#  property-group: meer info
##########################################################
ext:websitesPg a form:PropertyGroup;
    sh:name "Meer info" ;
    form:help "Hier kan u websites die meer informatie bevatten over de lokale dienst aanbrengen/wijzigen.";
    sh:order 10 .

  ##########################################################
  #  listing-scope: Meer Info
  ##########################################################
  ext:websitesS a form:Scope;
    sh:path rdfs:seeAlso.

  ##########################################################
  #  Listing: Meer Info
  ##########################################################
  ext:websitesL a form:Listing;
    form:each ext:websitesSf;
    form:scope ext:websitesS;
    form:createGenerator ext:websitesG;
    sh:group ext:websitesPg;
    form:addLabel "Voeg website toe";
    form:canAdd true;
    form:canRemove true;
    sh:order 1 .

  ##########################################################
  #  Generator: Meer Info
  ##########################################################
  ext:websitesG a form:Generator;
    form:prototype [
      form:shape [
        a schema:WebSite ;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Meer Info-sub
  ##########################################################
  ext:websitesPg-sub a form:PropertyGroup;
      sh:name "Gegevens website";
      sh:order 1 .

  ##########################################################
  #  Subform: Meer Info
  ##########################################################
  ext:websitesSf a form:SubForm;
     form:removeLabel "Verwijder website";
     form:includes ext:websiteTitleF;
     form:includes extEng:websiteTitleF;
     form:includes ext:websiteDescriptionF;
     form:includes extEng:websiteDescriptionF;
     form:includes ext:websiteUrlF.

    ##########################################################
    # Field:  Meer Info title
    ##########################################################
    ext:websiteTitleF a form:Field ;
        sh:name "Titel website" ;
        sh:order 1 ;
        form:language "nl";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:title
        ];
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:websitesPg-sub .

    ##########################################################
    # Field (En.):  Meer Info title
    ##########################################################
    extEng:websiteTitleF a form:Field ;
        sh:name "Engelse vertaling van de titel" ;
        sh:order 2 ;
        form:language "en";
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:websitesPg-sub .

    ##########################################################
    # Field: Meer Info description
    ##########################################################
    ext:websiteDescriptionF a form:Field ;
        sh:name "Beschrijving website" ;
        sh:order 3 ;
        form:language "nl";
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:websitesPg-sub .

    ##########################################################
    # Field (En.): Meer Info description
    ##########################################################
    extEng:websiteDescriptionF a form:Field ;
        sh:name "Engelse vertaling van de beschrijving" ;
        sh:order 4 ;
        form:language "en";
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:websitesPg-sub .

    ##########################################################
    # Field: ContactPunt website
    ##########################################################
    ext:websiteUrlF a form:Field ;
        sh:name "Website URL" ;
        sh:order 5 ;
        form:validations
        [ a form:UriConstraint ;
          form:grouping form:MatchEvery ;
          sh:resultMessage "Gelieve een geldige URL op te geven. Zorg dat vooraan in de link altijd http://, https://, ftp:// of sftp:// staat."; # TODO: later custom validator
          sh:path schema:url
        ],
        [
          a form:RequiredConstraint ;
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path schema:url
        ];
        sh:path schema:url ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:websitesPg-sub .
